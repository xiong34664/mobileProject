"use strict";$(function(){var n,i=$(".imgBox>li").first().clone(!0),e=$(".imgBox>li").last().clone(!0);$(".imgBox>li").each(function(){$(".lists").append("<li></li>")}).eq(0).before(e).parent().append(i),$(".lists li").eq(0).addClass("active"),$(".lists").on("tap","li",function(){index===imgLength&&$(".imgBox").css({left:0}),move(index=$(this).index())}),$(".banner").on("touchstart",function(i){n=i.touches[0].clientX,clearTimeout(t)}),$(".banner").on("touchmove",function(i){var e=i.changedTouches[0].clientX-n;$(".imgBox").css({left:e-(index+1)*imgWidth})}),$(".banner").on("touchend",function(i){var e=i.changedTouches[0].clientX-n;Math.abs(e)<50?$(".imgBox").animate({left:imgWidth*-(index+1)}):0<e?prev():next(),t=setInterval(function(){next()},3e3)});var t=setInterval(function(){next()},3e3)});var imgWidth,index=0,imgLength=$(".imgBox li").length;function next(){index++,move(function(){imgLength<=index&&($(".imgBox").css("left",-imgWidth),index=0)})}function prev(){index--,move(function(){index<0&&($(".imgBox").css("left",-imgLength*imgWidth),index=imgLength-1)})}function move(i){var e=index;e=e===imgLength?0:e,console.log(e),$(".lists> li").eq(e).addClass("active").siblings().removeClass("active"),$(".imgBox").animate({left:-(index+1)*imgWidth},"ease",i)}$(window).on("resize",function(){imgWidth=$(".banner").width(),$(".imgBox").css({left:-(index+1)*imgWidth,width:imgWidth*(imgLength+2)}).find("li").width(imgWidth)}),$(window).trigger("resize");